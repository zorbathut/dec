<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Class Converter
   </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Class Converter
   ">
    <meta name="generator" content="docfx 2.59.4.0">
    
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="Dec.Converter">
  
  
  <h1 id="Dec_Converter" data-uid="Dec.Converter" class="text-break">Class Converter
  </h1>
  <div class="markdown level0 summary"><p>Base class for converting to arbitrary types.</p>
</div>
  <div class="markdown level0 conceptual"></div>
  <div class="inheritance">
    <h5>Inheritance</h5>
    <div class="level0"><span class="xref">System.Object</span></div>
    <div class="level1"><span class="xref">Converter</span></div>
  </div>
  <h6><strong>Namespace</strong>: <a class="xref" href="Dec.html">Dec</a></h6>
  <h6><strong>Assembly</strong>: dec.dll</h6>
  <h5 id="Dec_Converter_syntax">Syntax</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public abstract class Converter</code></pre>
  </div>
  <h5 id="Dec_Converter_remarks"><strong>Remarks</strong></h5>
  <div class="markdown level0 remarks"><p>This is a standalone class to allow implementation of converters of third-party types.</p>
<p>Inherit from this, fill out an appropriate HandledTypes() function, then implement either Record() or FromString().</p>
<p>If you want to be able to write things with Recorder, you'll need to implement either Record() or ToString().</p>
</div>
  <h3 id="methods">Methods
  </h3>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/zorbathut/dec/new/bf995703536d02cc9027c4a7d230933d40af75c7/apiSpec/new?filename=Dec_Converter_FromString_System_String_System_Type_System_String_System_Int32_.md&amp;value=---%0Auid%3A%20Dec.Converter.FromString(System.String%2CSystem.Type%2CSystem.String%2CSystem.Int32)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/zorbathut/dec/blob/bf995703536d02cc9027c4a7d230933d40af75c7/src/Converter.cs/#L42">View Source</a>
  </span>
  <a id="Dec_Converter_FromString_" data-uid="Dec.Converter.FromString*"></a>
  <h4 id="Dec_Converter_FromString_System_String_System_Type_System_String_System_Int32_" data-uid="Dec.Converter.FromString(System.String,System.Type,System.String,System.Int32)">FromString(String, Type, String, Int32)</h4>
  <div class="markdown level1 summary"><p>Converts a string to a suitable object type.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public virtual object FromString(string input, Type type, string inputName, int lineNumber)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">input</span></td>
        <td></td>
      </tr>
      <tr>
        <td><span class="xref">System.Type</span></td>
        <td><span class="parametername">type</span></td>
        <td></td>
      </tr>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">inputName</span></td>
        <td></td>
      </tr>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">lineNumber</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Object</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Dec_Converter_FromString_System_String_System_Type_System_String_System_Int32__remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p><code>type</code> is set to the expected return type; you can return null, or anything that can be implicitly converted to that type.</p>
<p>In case of error, call Dec.Dbg.Err with some appropriately useful message and return null. Message should be formatted as $&quot;{inputName}:{lineNumber}: Something went wrong&quot;.</p>
<p>Note: In the case of empty input (i.e. &lt;member&gt;&lt;/member&gt; or &lt;member /&gt;) this function will be called.</p>
</div>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/zorbathut/dec/new/bf995703536d02cc9027c4a7d230933d40af75c7/apiSpec/new?filename=Dec_Converter_HandledTypes.md&amp;value=---%0Auid%3A%20Dec.Converter.HandledTypes%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/zorbathut/dec/blob/bf995703536d02cc9027c4a7d230933d40af75c7/src/Converter.cs/#L30">View Source</a>
  </span>
  <a id="Dec_Converter_HandledTypes_" data-uid="Dec.Converter.HandledTypes*"></a>
  <h4 id="Dec_Converter_HandledTypes" data-uid="Dec.Converter.HandledTypes">HandledTypes()</h4>
  <div class="markdown level1 summary"><p>Returns a set of types that it can convert to and from.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public abstract HashSet&lt;Type&gt; HandledTypes()</code></pre>
  </div>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Collections.Generic.HashSet</span>&lt;<span class="xref">System.Type</span>&gt;</td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Dec_Converter_HandledTypes_remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>When deserializing, conversion functions are not called for subclasses; that is, if a BaseClass is requested, only a converter that promises to return a BaseClass will be called.</p>
<p>It is an error if any two Conversion-derived non-abstract classes report that they can generate the same type.</p>
<p>This behavior may change someday; please read patch notes if you're relying on it.</p>
</div>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/zorbathut/dec/new/bf995703536d02cc9027c4a7d230933d40af75c7/apiSpec/new?filename=Dec_Converter_Record_System_Object_System_Type_Dec_Recorder_.md&amp;value=---%0Auid%3A%20Dec.Converter.Record(System.Object%2CSystem.Type%2CDec.Recorder)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/zorbathut/dec/blob/bf995703536d02cc9027c4a7d230933d40af75c7/src/Converter.cs/#L94">View Source</a>
  </span>
  <a id="Dec_Converter_Record_" data-uid="Dec.Converter.Record*"></a>
  <h4 id="Dec_Converter_Record_System_Object_System_Type_Dec_Recorder_" data-uid="Dec.Converter.Record(System.Object,System.Type,Dec.Recorder)">Record(Object, Type, Recorder)</h4>
  <div class="markdown level1 summary"><p>Handles serialization and deserialization with support for references.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public virtual object Record(object model, Type type, Recorder recorder)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Object</span></td>
        <td><span class="parametername">model</span></td>
        <td></td>
      </tr>
      <tr>
        <td><span class="xref">System.Type</span></td>
        <td><span class="parametername">type</span></td>
        <td></td>
      </tr>
      <tr>
        <td><a class="xref" href="Dec.Recorder.html">Recorder</a></td>
        <td><span class="parametername">recorder</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Object</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Dec_Converter_Record_System_Object_System_Type_Dec_Recorder__remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>In read mode, <code>model</code> will be one of the types provided in HandledTypes(); it will not be null. Use recorder or recorder.Xml to serialize its contents, then return model.</p>
<p>In write mode, <code>model</code> will be one of the types provided in HandledTypes(), or null. If it's null, create an object of an appropriate type. Use recorder or recorder.Xml to fill it, then return it.</p>
<p><code>type</code> indicates the type that the underlying code expects to get back. The object you return must be assignable to that type.</p>
<p>In case of error, call Dec.Dbg.Err with some appropriately useful message, then return model.</p>
<p>In most cases, using Recorder's interface is by far the easiest way to support the requirements of this function. It is expected that you use XML only when absolutely necessary.</p>
</div>
  <h5 id="Dec_Converter_Record_System_Object_System_Type_Dec_Recorder__examples">Examples</h5>
  <pre><code>    public override object Record(object model, Type type, Recorder recorder)
    {
        // If we&apos;re in read mode, this leaves model untouched. If we&apos;re in write mode, this leaves model untouched unless it&apos;s null.
        model = model ?? new ConvertedClass();

        // The Recorder interface figures out the right thing based on context.
        // Any members that are referenced elsewhere will be turned into refs automatically.
        recorder.Record(ref model.integerMember, &quot;integerMember&quot;);
        recorder.Record(ref model.classMember, &quot;classMember&quot;);
        recorder.Record(ref model.structMember, &quot;structMember&quot;);
        recorder.Record(ref model.collectionMember, &quot;collectionMember&quot;);

        return model;
    }</code></pre>

  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/zorbathut/dec/new/bf995703536d02cc9027c4a7d230933d40af75c7/apiSpec/new?filename=Dec_Converter_ToString_System_Object_.md&amp;value=---%0Auid%3A%20Dec.Converter.ToString(System.Object)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/zorbathut/dec/blob/bf995703536d02cc9027c4a7d230933d40af75c7/src/Converter.cs/#L56">View Source</a>
  </span>
  <a id="Dec_Converter_ToString_" data-uid="Dec.Converter.ToString*"></a>
  <h4 id="Dec_Converter_ToString_System_Object_" data-uid="Dec.Converter.ToString(System.Object)">ToString(Object)</h4>
  <div class="markdown level1 summary"><p>Converts an object to a string.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public virtual string ToString(object input)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Object</span></td>
        <td><span class="parametername">input</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Dec_Converter_ToString_System_Object__remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p><code>input</code> will be one of the types provided in HandledTypes(); it will not be null. Whatever you return should be convertible back to an object by an overridden FromString().</p>
<p>In case of error, call Dec.Dbg.Err with some appropriately useful message and return null.</p>
</div>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/zorbathut/dec/new/bf995703536d02cc9027c4a7d230933d40af75c7/apiSpec/new?filename=Dec_Converter.md&amp;value=---%0Auid%3A%20Dec.Converter%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A" class="contribution-link">Improve this Doc</a>
                  </li>
                  <li>
                    <a href="https://github.com/zorbathut/dec/blob/bf995703536d02cc9027c4a7d230933d40af75c7/src/Converter.cs/#L18" class="contribution-link">View Source</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
